<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_CHTML"></script>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <title>John Chandler Burnham - Notes (PVIM 03/21): Insert Mode</title>
        <link rel="stylesheet" type="text/css" href="../../css/default.css" />
    </head>
    <body>
        <div id="header">
            <div id="navigation">
                <a href="../../">jcb</a>
                <a href="../../posts.html">posts</a>
                <a href="../../projects.html">projects</a>
                <a href="https://github.com/johnchandlerburnham">github</a>
                <a href="https://twitter.com/John_C_Burnham">twitter</a>
            </div>
        </div>
        <div id="content">
            <h1>Notes (PVIM 03/21): Insert Mode</h1>
          <div id="title" class="info">
    Posted on June 18, 2018
    
        by jcb
    
<hr>
</div>

<h1 id="chapter-3-insert-mode">Chapter 3: Insert Mode</h1>
<h2 id="make-corrections-instantly-from-insert-mode">Make Corrections Instantly from Insert Mode</h2>
<ul>
<li><code>&lt;C-h&gt;</code> Delete back one character</li>
<li><code>&lt;C-w&gt;</code> Delete back one word</li>
<li><code>&lt;C-u&gt;</code> Delete back to start of line</li>
</ul>
<p>These bindings also work in POSIX shells like bash or zsh.</p>
<h2 id="get-back-to-normal-mode">Get Back to Normal Mode</h2>
<table>
<thead>
<tr class="header">
<th>Mode</th>
<th>Key</th>
<th>Effect</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Insert</td>
<td><code>&lt;Esc&gt;</code></td>
<td>Switch to Normal mode</td>
</tr>
<tr class="even">
<td>Insert</td>
<td><code>&lt;C-[&gt;</code></td>
<td>Switch to Normal mode</td>
</tr>
<tr class="odd">
<td>Insert</td>
<td><code>&lt;C-o&gt;</code></td>
<td>Switch to Insert Normal mode</td>
</tr>
</tbody>
</table>
<p>“Insert Normal mode” executes a single command in Normal mode and automatically returns to insert mode. I don’t find this to be tremendously useful, generally, since it doesn’t actually preserve the Insert mode session for e.g. the <code>.</code> command (only the second insertion gets remembered). It’s also complicated to remember, because <code>&lt;Ctrl-o&gt;</code> in normal mode is a lot more useful (moves cursor to the previous “jump”, like when following links in the help files). Also, if you’ve remapped the Caps Lock key to behave as <code>&lt;Esc&gt;</code> like I have, the “cost” of leaving Insert mode the normal way goes way down.</p>
<p>That being said sometimes it’s nice to be able to adjust the scroll without leaving insert mode though:</p>
<table>
<thead>
<tr class="header">
<th>Mode</th>
<th>Key</th>
<th>Effect</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Normal</td>
<td><code>zz</code></td>
<td>scroll cursor to middle of screen</td>
</tr>
<tr class="even">
<td>Normal</td>
<td><code>zt</code></td>
<td>scroll cursor to top of screen</td>
</tr>
<tr class="odd">
<td>Normal</td>
<td><code>zb</code></td>
<td>scroll cursor to bottom of screen</td>
</tr>
</tbody>
</table>
<h2 id="remap-the-caps-lock-key">Remap the Caps Lock Key</h2>
<p>Some people argue for remapping Caps Lock to <code>&lt;Esc&gt;</code>, others argue that it should be <code>&lt;Ctrl&gt;</code>. Proponents of <code>&lt;Esc&gt;</code> say that it’s one of the most commonly used keys in Vim, so it makes sense for it to be on the home row. On the other hand, some people, like Drew Neil, prefer <code>&lt;Ctrl&gt;</code> because it makes all the Ctrl key chords easier, including <code>&lt;Ctrl-[&gt;</code> which is synonymous with <code>&lt;Esc&gt;</code>. After all, <code>vi</code> (the precursor to vim) was originally designed for a keyboard that had <code>&lt;Ctrl&gt;</code> to the left of the <code>A</code> key.</p>
<hr />
<p align="center">
<img src="../../images/KB_Terminal_ADM3A.svg" alt="ADM3A" width="700px">
</p>
<hr />
<p><em>The keyboard of the <a href="https://en.wikipedia.org/wiki/ADM-3A">ADM-3A</a>, one of the first video display terminals.</em></p>
<hr />
<p>Incidentally, another neat factoid relating to the ADM-3A’s keyboard is that the <code>~</code> key was labeled “Home”, which is why the <code>~</code> character is a shortcut to your home directory in shells like bash or zsh.</p>
<p>There are good arguments on both sides, but my solution is to map <code>Caps Lock</code> to <code>Esc</code> (and vice-versa), and to use a keyboard like the Kinesis Advantage or the Keyboardio that puts the modifier keys under the thumbs the way God intended.</p>
<hr />
<p align="center">
<img src="../../images/keyboardio.jpg" alt="Keyboardio" width="571px">
</p>
<hr />
<p><em>The <a href="https://shop.keyboard.io/">Keyboardio</a>: Beautiful, Functional, Sane</em></p>
<hr />
<p>Seriously, hasn’t it ever occured to you how silly it is that the only things your thumbs do on the standard QWERTY layout is hit the spacebar? I understand it’s the most common key, but does it really need to be ten times the size and be manned by your two strongest digits? It’s preposterous that your weakest digits, the pinky fingers, are responsible for a dozen different keys each, but your thumbs share only one.</p>
<p>And, of course, when you’re using a sensible keyboard that already has <code>&lt;Ctrl&gt;</code> under a thumb, it makes sense to move <code>&lt;Esc&gt;</code> by a pinky on the home row.</p>
<h2 id="paste-from-a-register-without-leaving-insert-mode">Paste from a Register Without Leaving Insert Mode</h2>
<table>
<thead>
<tr class="header">
<th>Mode</th>
<th>Key</th>
<th>Effect</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Insert</td>
<td><code>&lt;C-r&gt;</code></td>
<td>paste from a <code>{register}</code></td>
</tr>
<tr class="even">
<td>Insert</td>
<td><code>&lt;C-r&gt;&lt;C-p&gt;</code></td>
<td>paste from a <code>{register}</code> and fix indent</td>
</tr>
</tbody>
</table>
<h2 id="do-back-of-the-envelope-calculations-in-place">Do Back-of-the-Envelope Calculations in Place</h2>
<table>
<thead>
<tr class="header">
<th>Mode</th>
<th>Key</th>
<th>Effect</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Insert</td>
<td><code>&lt;C-r&gt;=</code></td>
<td>evaluate an expression and paste result</td>
</tr>
</tbody>
</table>
<p>This is a really neat feature! I often find myself using Google as a quick calculator when writing and it’d be much faster to just use the editor directly.</p>
<h2 id="insert-unusual-characters-by-character">Insert Unusual Characters by Character</h2>
<table>
<thead>
<tr class="header">
<th>Mode</th>
<th>Key</th>
<th>Effect</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Insert</td>
<td><code>&lt;C-v&gt;{123}</code></td>
<td>insert character by decimal code</td>
</tr>
<tr class="even">
<td>Insert</td>
<td><code>&lt;C-v&gt;u{1234}</code></td>
<td>insert character by hexadecimal code</td>
</tr>
<tr class="odd">
<td>Insert</td>
<td><code>&lt;C-v&gt;</code>{nondigit}</td>
<td>insert character literally</td>
</tr>
<tr class="even">
<td>Insert</td>
<td><code>&lt;C-k&gt;{char1}{char2}</code></td>
<td>insert character by digraph</td>
</tr>
</tbody>
</table>
<h2 id="insert-unusual-characters-by-digraph">Insert Unusual Characters by Digraph</h2>
<p>So, this feature is surprisingly good. You’d think that memorizing digraphs would just be unnecessary detail versus memorizing character codes, but in a lot of cases the digraphs have a kind of mnemonic logic that makes them dramatically superior.</p>
<p>Let’s say I want to type some Greek letters (I dunno, for math and stuff), like π, or ζ, or α. Well, the digraphs for all the Greek letters are usually just their corresponding Latin letters followed by an asterisk (usually, because some Greek letters like ψ don’t have a corresponding Latin letter):</p>
<table>
<thead>
<tr class="header">
<th>Mode</th>
<th>Key</th>
<th>Effect</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Insert</td>
<td><code>&lt;C-k&gt;p*</code></td>
<td>insert π</td>
</tr>
<tr class="even">
<td>Insert</td>
<td><code>&lt;C-k&gt;z*</code></td>
<td>insert ζ</td>
</tr>
<tr class="odd">
<td>Insert</td>
<td><code>&lt;C-k&gt;a*</code></td>
<td>insert α</td>
</tr>
<tr class="even">
<td>Insert</td>
<td><code>&lt;C-k&gt;q*</code></td>
<td>insert ψ</td>
</tr>
</tbody>
</table>
<p>You can also use digraphs as arguments for commands like <code>f</code> (if the digraph-arg option is enabled), which is also super useful!</p>
<p>Assuming you only have to occasionally deal with special characters, this is dramatically easier than having to fiddle with keyboard layers.</p>
<h2 id="overwrite-existing-text-with-replace-mode">Overwrite Existing Text with Replace Mode</h2>
<table>
<thead>
<tr class="header">
<th>Mode</th>
<th>Key</th>
<th>Effect</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Normal</td>
<td>r</td>
<td>replace single character</td>
</tr>
<tr class="even">
<td>Normal</td>
<td>gr</td>
<td>replace virtual characters</td>
</tr>
<tr class="odd">
<td>Normal</td>
<td>R</td>
<td>enter Replace mode (overwrite)</td>
</tr>
<tr class="even">
<td>Normal</td>
<td>gR</td>
<td>enter Virtual Replace mode</td>
</tr>
</tbody>
</table>
<p>The replace command is an old standby. A surprising number of changes and typos are only single character errors, and typing <code>r{char}</code> instead of <code>xi{char}&lt;Esc&gt;</code> saves two whole strokes! What’s more is that since <code>r</code> is an index finger key in QWERTY, we get to turn the three weaker strokes of <code>x</code> (ring finger), <code>i</code> (ring finger), and <code>&lt;Esc&gt;</code> (pinky) into a single strong stroke! You might be tempted to dismiss this as silly bean-counting, but it’s through thousands of tiny improvements like this that we can stave off repetitive strain injury.</p>
<p>Replace mode is primarily useful when the existing text and your modification have the same number of characters. For example, if I wanted to change the number <code>97</code> to the number <code>62</code>, replace mode might be a tool I’d reach for, since <code>62</code> and <code>97</code> have the same number of characters. In my opinion, however, it’s much less useful than the <code>c</code> change command (like <code>caw</code> for “change a word”) is vastly more intuitive and flexible. The example in the book could have been accomplished with <code>)cge</code> (go to the next sentence and change to the end of the previous word), or even better with <code>)cvb</code> (go to the next sentence and change in a visual block that includes the current character to the beginning of the previous word). Note that the previous word is the <code>.</code>, so <code>b</code> and <code>ge</code> end up on the same character.</p>
<p>The difference between the two in this case is that <code>b</code> is an exclusive motion, and <code>ge</code> is an inclusive motion, so if our cursor is on the <code>B</code> in <code>But</code> in the example (<code>the line. But in</code>), a <code>cge</code> will include the <code>B</code>, but a <code>cb</code> won’t. However, we can turn an exclusive motion into an inclusive one by using a visual block with <code>v</code>.</p>
<p>Now, why do all this instead of using Replace? Because the grammar for making changes on text objects is much more powerful and expressive. Let’s say we know how to do the <code>)cvb</code> command described above. On it’s own, the two sequences to turn <code>the line. But</code> into <code>the line, but</code> look about the same:</p>
<pre><code>)cvb, b&lt;Esc&gt;
f.R, &lt;Esc&gt;</code></pre>
<p>Actually, the sequence using Replace is one character shorter. But suppose instead of just changing the <code>.</code> to a comma we wanted to change the whole word <code>line</code> to the word <code>text</code> as well. Here are two sequences that accomplish that</p>
<pre><code>)cvBtext, b&lt;Esc&gt;
flRtext, &lt;Esc&gt;</code></pre>
<p>And now if we wanted to change the previous 2 words from <code>a line</code> to <code>some text</code>:</p>
<pre><code>)cv2Bsome text, b&lt;Esc&gt;
ft;;Rsome text,b&lt;Esc&gt;i&lt;Space&gt;&lt;Esc&gt;</code></pre>
<p>This is maybe a little hard to see on the page, so I encourage you to try the above sequences for yourself. What you’ll find is that the efficiency of Replace mode is highly dependent on what the text says and what changes you want to make. Changing <code>line. B</code> to <code>text, b</code> works great, because the number of letters is the same in both. But if you try to change <code>the line. B</code> to <code>some text, b</code>, the Replace goes off by one and you have to escape out of it and then make a second edit.</p>
<p>Furthermore, how efficiently we can get to our cursor to the right place to start our Replace mode is totally dependent on the previous text. This is why we could do <code>fl</code> to jump the first letter of <code>line</code>, but had to do <code>ft;;</code> to jump to the <code>t</code> in <code>the</code> (there were two closer <code>t</code> characters).</p>
<p>By contrast, the change grammar was nearly unchanged from example to example because it more closely expresses the common pattern in all of them:</p>
<p>“Combine two sentences by changing the end of the first and the beginning of the second.”</p>
<h3 id="overwrite-tab-characters-with-virtual-replace-mode">Overwrite Tab Characters with Virtual Replace Mode</h3>
<p>Virtual replace mode is, in my opinion, useless if you have already done the sensible thing and banished the <code>&lt;Tab&gt;</code> character from your buffers, by setting the <code>expandtab</code> option in your .vimrc (which converts all tabs to spaces).</p>
<p>Yes, I know that the tabs vs spaces debate is one of the great Holy Wars of programming, and that there are many brilliant people on the other side. In the specific context of Vim, though, I think spaces are a clear winner, since navigating multiple whitespace characters is trivial with <code>^</code> or <code>w</code>, and it’s much nicer to have one column in the buffer represent one character in the file.</p>
<p>Using spaces also lets you do nice things like forget about the subtle distinctions between <code>Replace</code> and <code>Virtual Replace</code>, which frees up valuable brainspace.</p>

        </div>
        <div id="footer">
          <p>&copy; <script>document.write(new Date().getFullYear());</script>
             John Chandler Burnham.
            Generated by <a href="http://jaspervdj.be/hakyll">Hakyll</a>
          </p>
        </div>
    </body>
</html>
