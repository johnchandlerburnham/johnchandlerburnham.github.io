<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_CHTML"></script>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <title>John Chandler Burnham - Notes (LCBB 03/07): The Power of Lambda</title>
        <link rel="stylesheet" type="text/css" href="../../css/default.css" />
    </head>
    <body>
        <div id="header">
            <div id="navigation">
                <a href="../../">jcb</a>
                <a href="../../posts.html">posts</a>
                <a href="../../projects.html">projects</a>
                <a href="https://github.com/johnchandlerburnham">github</a>
                <a href="https://twitter.com/John_C_Burnham">twitter</a>
            </div>
        </div>
        <div id="content">
          <div id="title">
            <h1>Notes (LCBB 03/07): The Power of Lambda</h1>
          </div>
          <div class="info">
    Posted on December 13, 2017
    
        by jcb
    
</div>
<div class="info">
    
    Tags: <a href="../../tags/workthrough.html">workthrough</a>, <a href="../../tags/math.html">math</a>, <a href="../../tags/functional-programming.html">functional-programming</a>, <a href="../../tags/lambda-calculus.html">lambda-calculus</a>
    
</div>

<hr>

<h1 id="the-power-of-lambda">3 The Power of Lambda</h1>
<h2 id="definition-of-booleans">3.1 Definition of Booleans</h2>
<ol style="list-style-type: decimal">
<li><pre><code>true = K
false = K*</code></pre></li>
<li><pre><code>if-then-else = (\i t e. i t e)</code></pre></li>
</ol>
<p>I think the pattern of using the “first” and “second” selector combinators as booleans so that you can just use the truth-condition in an “if-then-else” to directly select the right branch is really pretty somehow.</p>
<h2 id="definition-of-pairs">3.2 Definition of Pairs</h2>
<pre><code>(M, N) = (\z. z M N)

(M, N) true = M
(M, N) false = N</code></pre>
<p>Of course, an “if-then-else” is inherently a pair: a pair of two code branches that you switch between based on some condition. If you interpret the branches as data branches rather than code branches, you get a really nice representation of an ordered pair.</p>
<p>You can even use this pattern to construct any k-tuple. So a triple would be:</p>
<pre><code>(T1, T2, T3) = (\z. z T1 T2 T3)
(T1, T2, T3) (choose-of 1 3) = T1
(T1, T2, T3) (choose-of 2 3) = T2
(T1, T2, T3) (choose-of 2 3) = T3</code></pre>
<p>Where <code>choose-of i n</code> is an expression that gives you the <code>i</code>-th expression of <code>n</code> expressions:</p>
<pre><code>choose-of 0 1 = \x1. x1   = I
choose-of 0 2 = \x1 x2. x1 = K
choose-of 1 2 = \x1 x2. x2 = K*
choose-of 0 3 = \x1 x2 x3. x1
choose-of 1 3 = \x1 x2 x3. x2
choose-of 2 3 = \x1 x2 x3. x3</code></pre>
<p>How might we implement “choose of”?</p>
<p>Let’s start with an easier function <code>drop</code> which drops the first <code>n</code> arguments:</p>
<p>Well, so first lets try to build a function that adds a layer of abstraction around any expression. So for any <code>M</code> we want:</p>
<pre><code>(\x. M) = (\ m x . m) M = K M</code></pre>
<p>Which is just the <code>K</code> combinator. Let’s look at what happens if we apply the <code>K</code> combinator multiple times:</p>
<pre><code>K (K M) = K (\x. M) = (\x2. (\x1 . M)) = \x2 x1. M
K (K (K M)) = K (\x2. (\x1 . M))  = (\x3. (\x2. (\x1 . M)) = \x3 x2 x1. M
...</code></pre>
<p>We can use the exponentiation notation from the last chapter to clean this up:</p>
<pre><code>K^0 M = M
K^1 M = K M
K^2 M = K (K M)
...</code></pre>
<p>If we let <code>M</code> be the identity combinator, then we have our <code>choose-n</code> function:</p>
<pre><code>drop C_m = C_m K I

drop 0  = C_0 K I = I
drop 1  = C_1 K I = K I = K*
drop 2  = C_2 K I = K (K I) = (\x y z. z)</code></pre>
<p>But if there are more than <code>n</code> arguments:</p>
<pre><code>(T1, T2, T3) (drop 1) = (C_1 K I) T1 T2 T3 = K* T1 T2 T3 = T2 T3</code></pre>
<p>So our <code>choose-of</code> function is going to need to get rid of a bunch of arguments that come after the one we want.</p>
<p>Let’s define another function <code>first n</code> that returns the first of <code>n + 1</code> arguments.</p>
<pre><code>first 0 = \ x1. x1
first 1 = \ x1 x2. x1
first 2 = \ x1 x2 x3. x1
...</code></pre>
<p>By a similar construction to <code>drop</code>:</p>
<pre><code>first C_n = \x . C_n K x
first 0 = \x . x
first 1 = \x . K x
first 2 = \x . K (K x)
...</code></pre>
<p>Let’s test this out:</p>
<pre><code>(T1, T2, T3) (first 2) = (\x . K (K x)) T1 T2 T3
= K (K T1) T2 T3
= (K T1) T3
= T1</code></pre>
<p>So our <code>choose-of</code> function will be:</p>
<pre><code>choose-of = \ i n t. (first (sub n i)) (t (drop i))</code></pre>
<p>Where <code>sub</code> is integer subtraction, whose derivation I’ll leave for elsewhere.</p>
<p>[TODO: Subtraction]</p>
<p>Honestly, this construction of <code>n</code>-tuples seems ugly, and I’m not the biggest fan of writing lambda expressions that are complicated enough to feel like actual code. If I’m going to write code I want some actual tools…</p>
<h2 id="definition-of-natural-numbers-as-pairs">3.3 Definition of natural numbers as pairs</h2>
<pre><code>0_ = I
(n + 1)_ = (false, n_)</code></pre>
<p>So numbers can be defined as nested pairs.</p>
<h2 id="lemma-successor-predecessor-iszero">3.4 Lemma: Successor, predecessor, isZero</h2>
<pre><code>succ n_ = (n + 1)_ = (false, n_)
succ = (\n. (\p. p false n))

pred (n+1) = (\n. n false) (\p. p false n_)  = false false n_ = n_
pred = (\n. n false)

isZero = (\x . x true)
isZero 0 = (\x . x true) I = true
isZero 1 = (\x . x true) (\ p. p false n_) = true false n_ = false</code></pre>
<h2 id="definition">3.5 Definition</h2>

        </div>
        <div id="footer">
          <p>&copy; <script>document.write(new Date().getFullYear());</script>
             John Chandler Burnham.
            Generated by <a href="http://jaspervdj.be/hakyll">Hakyll</a>
          </p>
        </div>
    </body>
</html>
